import{r as _,c as G,P as be,g as r,q as e,y as N,u as g,z as i,E as L,D as pe,x as b,B as E,K as m,L as A,M as j,R as fe,O as re,F as z,N as P,I as h,J as y,l as ve,k as o}from"./vendor-BU-5murH.js";import{_ as xe}from"./loading-spinner-R0mRqukI.js";import{y as he,I as ie,P as ye,ac as de}from"./ui-C3Nfw3T3.js";import"./index-DMU_U8j6.js";function _e(){const w=_({knots:{name:"Knots",icon:"mdi-circle-outline",defects:[{id:"knot_sound",name:"Sound Knots",enabled:!1,metric:"diameter",limitValue:0,aggregationMethod:"maximum",referenceType:"fixed",clusteringEnabled:!1},{id:"knot_unsound",name:"Unsound Knots",enabled:!1,metric:"diameter",limitValue:0,aggregationMethod:"maximum",referenceType:"fixed",clusteringEnabled:!1},{id:"knot_pin",name:"Pin Knots",enabled:!1,metric:"diameter",limitValue:0,aggregationMethod:"maximum",referenceType:"fixed",clusteringEnabled:!1},{id:"knot_traversing",name:"Traversing Knots",enabled:!1,metric:"diameter",limitValue:0,aggregationMethod:"maximum",referenceType:"fixed",clusteringEnabled:!1}]},cracksAndSplits:{name:"Cracks & Splits",icon:"mdi-lightning-bolt",defects:[{id:"splits",name:"Splits",enabled:!1,metric:"length",limitValue:0,aggregationMethod:"sum",referenceType:"fixed",clusteringEnabled:!1},{id:"checks",name:"Checks",enabled:!1,metric:"length",limitValue:0,aggregationMethod:"sum",referenceType:"fixed",clusteringEnabled:!1},{id:"shakes",name:"Shakes",enabled:!1,metric:"length",limitValue:0,aggregationMethod:"maximum",referenceType:"fixed",clusteringEnabled:!1}]},surfaceDefects:{name:"Surface Defects",icon:"mdi-texture",defects:[{id:"light_stain",name:"Light Stain",enabled:!1,metric:"area",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardSurface",clusteringEnabled:!1},{id:"stain",name:"Stain",enabled:!1,metric:"area",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardSurface",clusteringEnabled:!1},{id:"skip_marks",name:"Skip Marks",enabled:!1,metric:"width",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardWidth",clusteringEnabled:!1},{id:"einlauf_stain",name:"Einlauf Stain",enabled:!1,metric:"area",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardSurface",clusteringEnabled:!1}]},holes:{name:"Holes",icon:"mdi-circle",defects:[{id:"insect_holes",name:"Insect Holes",enabled:!1,metric:"count",limitValue:0,aggregationMethod:"countPerLinearMeter",referenceType:"fixed",clusteringEnabled:!0},{id:"general_holes",name:"General Holes",enabled:!1,metric:"count",limitValue:0,aggregationMethod:"countPerLinearMeter",referenceType:"fixed",clusteringEnabled:!0}]},otherDefects:{name:"Other Defects",icon:"mdi-alert-circle-outline",defects:[{id:"wane",name:"Wane",enabled:!1,metric:"length",limitValue:0,aggregationMethod:"maximum",referenceType:"percentBoardWidth",clusteringEnabled:!1},{id:"decay",name:"Decay",enabled:!1,metric:"area",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardSurface",clusteringEnabled:!1},{id:"black_mold",name:"Black Mold",enabled:!1,metric:"area",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardSurface",clusteringEnabled:!1},{id:"green_mold",name:"Green Mold",enabled:!1,metric:"area",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardSurface",clusteringEnabled:!1},{id:"pith",name:"Pith",enabled:!1,metric:"presence",limitValue:0,aggregationMethod:"maximum",referenceType:"fixed",clusteringEnabled:!1},{id:"manufacturing_errors",name:"Manufacturing Errors",enabled:!1,metric:"area",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardSurface",clusteringEnabled:!1},{id:"bark",name:"Bark",enabled:!1,metric:"area",limitValue:0,aggregationMethod:"sum",referenceType:"percentBoardSurface",clusteringEnabled:!1}]}}),X=[{title:"Maximum",value:"maximum"},{title:"Sum",value:"sum"},{title:"Average",value:"average"},{title:"Count per Linear Meter",value:"countPerLinearMeter"}],Y=[{title:"Fixed Value",value:"fixed"},{title:"% of Board Width",value:"percentBoardWidth"},{title:"% of Board Surface",value:"percentBoardSurface"}],F=s=>{const c=["diameter","length","width","area","count","presence"];return s.includes("knot")?c.filter(u=>["diameter","count","area"].includes(u)):s.includes("stain")||s.includes("mold")?c.filter(u=>["area","length","width"].includes(u)):s.includes("split")||s.includes("check")||s.includes("shake")?c.filter(u=>["length","count"].includes(u)):s.includes("hole")?c.filter(u=>["diameter","count","area"].includes(u)):s==="pith"?c.filter(u=>u==="presence"):s==="wane"?c.filter(u=>["length","width"].includes(u)):c.filter(u=>["area","count","length"].includes(u))},M=s=>{switch(s){case"diameter":return"mm";case"length":return"mm";case"width":return"mm";case"area":return"cm²";case"count":return"count";case"presence":return"yes/no";default:return""}},k=s=>w.value[s]?.name||"",B=s=>w.value[s]?.defects||[],Z=()=>{let s=0;return Object.values(w.value).forEach(c=>{s+=c.defects.filter(u=>u.enabled).length}),s},O=s=>{const c=w.value[s];c&&c.defects.forEach(u=>{u.enabled=!0})},V=s=>{const c=w.value[s];c&&c.defects.forEach(u=>{u.enabled=!1})};return{defectCategories:w,aggregationOptions:X,referenceOptions:Y,getMetricOptions:F,getUnitForMetric:M,getCurrentCategoryName:k,getCurrentCategoryDefects:B,getEnabledDefectsCount:Z,enableAllInCategory:O,disableAllInCategory:V,enableAllDefects:()=>{Object.keys(w.value).forEach(s=>{O(s)})},disableAllDefects:()=>{Object.keys(w.value).forEach(s=>{V(s)})},getAllEnabledDefects:()=>{const s=[];return Object.values(w.value).forEach(c=>{c.defects.forEach(u=>{u.enabled&&s.push(u)})}),s}}}const ke={class:"min-h-screen bg-gray-50"},we={class:"w-full px-4 sm:px-6 lg:px-8 py-6"},Ve={class:"flex items-center justify-between mb-8"},Ce={class:"flex items-center space-x-4"},Ee={class:"text-3xl font-bold text-gray-900"},Me={class:"flex items-center space-x-3"},Be=["disabled"],Re={class:"bg-white rounded-lg shadow p-6 mb-8"},De={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ue={class:"relative"},Se={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6"},Ae={class:"space-y-3"},Te={class:"flex items-center"},je={class:"flex items-center"},Oe={class:"flex items-center"},$e={class:"mt-6"},Ge={class:"bg-white rounded-lg shadow p-6 mb-8"},Ne={class:"mb-6"},Le={class:"flex items-center space-x-3"},Ze={class:"relative bg-gray-100 rounded-lg p-8 mb-6"},ze={class:"relative mx-auto",style:{width:"600px",height:"300px"}},Pe={class:"absolute inset-0 flex items-center justify-center text-xs font-medium text-green-800"},Fe={class:"absolute inset-0 flex items-center justify-center text-xs font-medium text-green-800"},We={class:"absolute inset-0 flex items-center justify-center text-xs font-medium text-blue-800 transform -rotate-90"},Ke={class:"absolute inset-0 flex items-center justify-center text-xs font-medium text-blue-800 transform rotate-90"},He={class:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-4"},qe={class:"space-y-3"},Je={class:"flex items-center justify-between"},Qe={class:"flex items-center"},Xe={class:"space-y-2"},Ye=["disabled"],Ie={class:"text-xs text-gray-500 text-center"},et={class:"space-y-3"},tt={class:"flex items-center justify-between"},lt={class:"flex items-center"},st={class:"space-y-2"},at=["disabled"],ot={class:"text-xs text-gray-500 text-center"},rt={class:"bg-white rounded-lg shadow p-6 mb-8"},nt={class:"flex items-center justify-between mb-6"},it={class:"flex items-center space-x-2"},dt={class:"flex items-center space-x-1 mb-6 border-b border-gray-200"},ut={class:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-600 rounded-full text-xs"},ct={class:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-600 rounded-full text-xs"},mt={class:"ml-2 px-2 py-0.5 bg-green-100 text-green-600 rounded-full text-xs"},gt={key:0,class:"space-y-6"},bt={class:"bg-gray-50 px-4 py-3 border-b border-gray-200 rounded-t-lg"},pt={class:"flex items-center justify-between"},ft={class:"font-medium text-gray-900"},vt={class:"flex items-center space-x-3"},xt={class:"text-sm text-gray-600"},ht=["onClick"],yt={class:"p-4 space-y-4"},_t={class:"flex items-center justify-between mb-3"},kt={class:"flex items-center"},wt=["onUpdate:modelValue"],Vt={class:"ml-2 font-medium text-gray-900"},Ct={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3"},Et=["onUpdate:modelValue"],Mt=["value"],Bt={class:"block text-sm font-medium text-gray-700 mb-1"},Rt=["onUpdate:modelValue"],Dt=["onUpdate:modelValue"],Ut=["value"],St={key:1,class:"space-y-6"},At={class:"flex items-center justify-between mb-4"},Tt={class:"flex items-center space-x-3"},jt={class:"text-sm text-gray-600"},Ot={class:"bg-blue-50 px-4 py-3 border-b border-blue-200 rounded-t-lg"},$t={class:"flex items-center justify-between"},Gt={class:"font-medium text-gray-900"},Nt={class:"flex items-center space-x-3"},Lt={class:"text-sm text-gray-600"},Zt=["onClick"],zt={class:"p-4 space-y-4"},Pt={class:"flex items-center justify-between mb-3"},Ft={class:"flex items-center"},Wt=["onUpdate:modelValue"],Kt={class:"ml-2 font-medium text-gray-900"},Ht={key:0,class:"text-xs text-gray-500 italic"},qt={key:1,class:"text-xs text-blue-600 font-medium"},Jt={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3"},Qt=["onUpdate:modelValue"],Xt=["value"],Yt={class:"block text-sm font-medium text-gray-700 mb-1"},It=["onUpdate:modelValue"],el=["onUpdate:modelValue"],tl=["value"],ll={key:2,class:"space-y-6"},sl={class:"flex items-center justify-between mb-4"},al={class:"flex items-center space-x-3"},ol={class:"text-sm text-gray-600"},rl={class:"bg-green-50 px-4 py-3 border-b border-green-200 rounded-t-lg"},nl={class:"flex items-center justify-between"},il={class:"font-medium text-gray-900"},dl={class:"flex items-center space-x-3"},ul={class:"text-sm text-gray-600"},cl=["onClick"],ml={class:"p-4 space-y-4"},gl={class:"flex items-center justify-between mb-3"},bl={class:"flex items-center"},pl=["onUpdate:modelValue"],fl={class:"ml-2 font-medium text-gray-900"},vl={key:0,class:"text-xs text-gray-500 italic"},xl={key:1,class:"text-xs text-green-600 font-medium"},hl={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-3"},yl=["onUpdate:modelValue"],_l=["value"],kl={class:"block text-sm font-medium text-gray-700 mb-1"},wl=["onUpdate:modelValue"],Vl=["onUpdate:modelValue"],Cl=["value"],El={class:"bg-white rounded-lg shadow p-6"},Ml={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},Bl={class:"bg-gray-50 rounded-lg p-4"},Rl={class:"font-medium text-gray-900 mb-3 flex items-center"},Dl={class:"space-y-2 text-sm"},Ul={key:0,class:"flex items-center justify-between"},Sl={class:"text-gray-700"},Al={class:"font-medium text-gray-900"},Tl={key:0,class:"text-gray-500 italic"},jl={class:"bg-blue-50 rounded-lg p-4"},Ol={class:"font-medium text-gray-900 mb-3 flex items-center"},$l={class:"space-y-2 text-sm"},Gl={key:0,class:"flex items-center justify-between"},Nl={class:"text-gray-700"},Ll={class:"font-medium text-blue-700"},Zl={key:0,class:"text-gray-500 italic"},zl={class:"bg-green-50 rounded-lg p-4"},Pl={class:"font-medium text-gray-900 mb-3 flex items-center"},Fl={class:"space-y-2 text-sm"},Wl={key:0,class:"flex items-center justify-between"},Kl={class:"text-gray-700"},Hl={class:"font-medium text-green-700"},ql={key:0,class:"text-gray-500 italic"},Il={__name:"CreateGrade",setup(w){const X=be(),Y=ve(),F=G(()=>X.query.edit==="true"),M=_(!1),k=_("board"),{defectCategories:B,aggregationOptions:Z,getMetricOptions:O,getUnitForMetric:V,enableAllDefects:I,disableAllDefects:ee}=_e(),f=_({name:"",description:"",valuePerUnit:"",species:"",faceGradingOption:"both-faces"}),s=_({top:{enabled:!1,depth:10},bottom:{enabled:!1,depth:10},left:{enabled:!1,depth:10},right:{enabled:!1,depth:10}}),c=G(()=>[{id:"knots",name:"Natural Characteristics",defects:B.value.knots.defects},{id:"cracks",name:"Cracks & Splits",defects:B.value.cracksAndSplits.defects},{id:"surface",name:"Surface Defects",defects:B.value.surfaceDefects.defects},{id:"holes",name:"Holes",defects:B.value.holes.defects},{id:"other",name:"Other Defects",defects:B.value.otherDefects.defects}]),u=()=>{const d={};return c.value.forEach(t=>{t.defects.forEach(l=>{d[l.id]={enabled:!1,metric:l.metric||"diameter",limitValue:l.limitValue||0,aggregationMethod:l.aggregationMethod||"maximum"}})}),d},p=_(u()),v=_(u()),x=_(u()),R=_(!1),D=_(10),U=_(!1),S=_(10),W=()=>{s.value.top.enabled=R.value,s.value.bottom.enabled=R.value},K=()=>{s.value.top.depth=D.value,s.value.bottom.depth=D.value},H=()=>{s.value.left.enabled=U.value,s.value.right.enabled=U.value},q=()=>{s.value.left.depth=S.value,s.value.right.depth=S.value},te=d=>d?typeof d=="string"?d.charAt(0).toUpperCase()+d.slice(1).replace(/([A-Z])/g," $1").trim():d.title?d.title:d.value?d.value.charAt(0).toUpperCase()+d.value.slice(1).replace(/([A-Z])/g," $1").trim():String(d):"",C=d=>{const l={knots:"knots",cracks:"cracksAndSplits",surface:"surfaceDefects",holes:"holes",other:"otherDefects"}[d];return B.value[l]?.defects||[]},le=G(()=>Object.values(s.value).some(d=>d.enabled)),ue=G(()=>Object.values(s.value).every(d=>d.enabled&&d.depth===10)),ce=G(()=>{const d=s.value.top.enabled?s.value.top.depth*3:0,t=s.value.bottom.enabled?s.value.bottom.depth*3:0,l=s.value.left.enabled?s.value.left.depth*6:0,a=s.value.right.enabled?s.value.right.depth*6:0;return{top:`${d}px`,bottom:`${t}px`,left:`${l}px`,right:`${a}px`}}),se=G(()=>f.value.name.trim()!==""&&f.value.species!==""),ae=d=>{for(const t of c.value){const l=t.defects.find(a=>a.id===d);if(l)return l.name}return d},$=d=>{let t;switch(d){case"board":t=p.value;break;case"leftRight":t=v.value;break;case"topBottom":t=x.value;break;default:return 0}return Object.values(t).filter(l=>l.enabled).length},T=(d,t)=>{const l=c.value.find(n=>n.id===d);if(!l)return 0;let a;switch(t){case"board":a=p.value;break;case"leftRight":a=v.value;break;case"topBottom":a=x.value;break;default:return 0}return l.defects.filter(n=>a[n.id]?.enabled).length},oe=(d,t)=>{const l=c.value.find(Q=>Q.id===d);if(!l)return;let a;switch(t){case"board":a=p.value;break;case"leftRight":a=v.value;break;case"topBottom":a=x.value;break;default:return}const ge=T(d,t)<l.defects.length;l.defects.forEach(Q=>{a[Q.id]&&(a[Q.id].enabled=ge)})},J=d=>{switch(d){case"none":R.value=!1,U.value=!1,D.value=10,S.value=10,W(),H(),K(),q();break;case"standard":R.value=!0,U.value=!0,D.value=10,S.value=10,W(),H(),K(),q();break;case"wide-ends":R.value=!0,U.value=!0,D.value=20,S.value=5,W(),H(),K(),q();break}},ne=d=>{let t;switch(d){case"leftRight":t=v.value;break;case"topBottom":t=x.value;break;default:return}Object.keys(p.value).forEach(l=>{p.value[l].enabled&&(t[l]={...p.value[l]})})},me=async()=>{if(se.value){M.value=!0;try{await new Promise(t=>setTimeout(t,1500));const d={...f.value,zones:s.value,boardRules:p.value,leftRightRules:v.value,topBottomRules:x.value};console.log("Saving grade:",d),Y.push("/grade-management")}catch(d){console.error("Error saving grade:",d)}finally{M.value=!1}}};return(d,t)=>(o(),r("div",ke,[e("div",we,[e("div",Ve,[e("div",Ce,[e("button",{onClick:t[0]||(t[0]=l=>d.$router.go(-1)),class:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors"},[N(g(he),{class:"w-5 h-5"})]),e("div",null,[e("h1",Ee,i(F.value?"Edit Grade":"Create New Grade"),1),t[24]||(t[24]=e("p",{class:"text-gray-600 mt-1"},"Configure lumber grading standards with zone-based rules",-1))])]),e("div",Me,[e("button",{onClick:t[1]||(t[1]=l=>d.$router.push("/grade-management")),class:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors"}," Cancel "),e("button",{onClick:me,disabled:!se.value||M.value,class:L(["px-6 py-2 rounded-lg font-medium transition-colors flex items-center",se.value&&!M.value?"bg-emerald-600 text-white hover:bg-emerald-700":"bg-gray-300 text-gray-500 cursor-not-allowed"])},[M.value?(o(),pe(xe,{key:0,size:"sm",variant:"white",class:"mr-2"})):b("",!0),E(" "+i(M.value?"Saving...":F.value?"Update Grade":"Create Grade"),1)],10,Be)])]),e("div",Re,[t[35]||(t[35]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Grade Information",-1)),e("div",De,[e("div",null,[t[25]||(t[25]=e("label",{for:"gradeName",class:"block text-sm font-medium text-gray-700 mb-2"}," Grade Name * ",-1)),m(e("input",{id:"gradeName","onUpdate:modelValue":t[2]||(t[2]=l=>f.value.name=l),type:"text",required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter grade name (e.g., FAS, Select, No.1 Common)"},null,512),[[A,f.value.name]])]),e("div",null,[t[27]||(t[27]=e("label",{for:"gradeValue",class:"block text-sm font-medium text-gray-700 mb-2"}," Value per Unit ($) ",-1)),e("div",Ue,[t[26]||(t[26]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("span",{class:"text-gray-500 sm:text-sm"},"$")],-1)),m(e("input",{id:"gradeValue","onUpdate:modelValue":t[3]||(t[3]=l=>f.value.valuePerUnit=l),type:"number",step:"0.01",min:"0",class:"w-full pl-7 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"0.00"},null,512),[[A,f.value.valuePerUnit]])])])]),e("div",Se,[e("div",null,[t[29]||(t[29]=e("label",{for:"species",class:"block text-sm font-medium text-gray-700 mb-2"}," Species * ",-1)),m(e("select",{id:"species","onUpdate:modelValue":t[4]||(t[4]=l=>f.value.species=l),required:"",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},t[28]||(t[28]=[fe('<option value="">Select a species</option><option value="red-oak">Red Oak</option><option value="white-oak">White Oak</option><option value="soft-maple">Soft Maple</option><option value="hard-maple">Hard Maple</option><option value="cherry">Cherry</option><option value="walnut">Walnut</option><option value="ash">Ash</option><option value="hickory">Hickory</option><option value="birch">Birch</option><option value="beech">Beech</option><option value="poplar">Poplar</option><option value="pine">Pine</option><option value="douglas-fir">Douglas Fir</option><option value="cedar">Cedar</option>',15)]),512),[[j,f.value.species]])]),e("div",null,[t[33]||(t[33]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"}," Grading Face * ",-1)),e("div",Ae,[e("label",Te,[m(e("input",{type:"radio",value:"both-faces","onUpdate:modelValue":t[5]||(t[5]=l=>f.value.faceGradingOption=l),class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300"},null,512),[[re,f.value.faceGradingOption]]),t[30]||(t[30]=e("div",{class:"ml-3"},[e("div",{class:"text-sm font-medium text-gray-900"},"Both Faces"),e("div",{class:"text-xs text-gray-600"},"Grade based on both face 1 and face 2")],-1))]),e("label",je,[m(e("input",{type:"radio",value:"better-face","onUpdate:modelValue":t[6]||(t[6]=l=>f.value.faceGradingOption=l),class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300"},null,512),[[re,f.value.faceGradingOption]]),t[31]||(t[31]=e("div",{class:"ml-3"},[e("div",{class:"text-sm font-medium text-gray-900"},"Better Face"),e("div",{class:"text-xs text-gray-600"},"Grade based on the better of the two faces")],-1))]),e("label",Oe,[m(e("input",{type:"radio",value:"worse-face","onUpdate:modelValue":t[7]||(t[7]=l=>f.value.faceGradingOption=l),class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300"},null,512),[[re,f.value.faceGradingOption]]),t[32]||(t[32]=e("div",{class:"ml-3"},[e("div",{class:"text-sm font-medium text-gray-900"},"Worse Face"),e("div",{class:"text-xs text-gray-600"},"Grade based on the worse of the two faces")],-1))])])])]),e("div",$e,[t[34]||(t[34]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"}," Description ",-1)),m(e("textarea",{id:"description","onUpdate:modelValue":t[8]||(t[8]=l=>f.value.description=l),rows:"3",class:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",placeholder:"Enter grade description and specifications"},null,512),[[A,f.value.description]])])]),e("div",Ge,[t[43]||(t[43]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-4"},"Board Zone Designer",-1)),t[44]||(t[44]=e("p",{class:"text-gray-600 mb-6"},"Define edge zones with different defect rules. Drag sliders to adjust zone depths.",-1)),e("div",Ne,[t[36]||(t[36]=e("div",{class:"text-sm font-medium text-gray-700 mb-3"},"Quick Templates:",-1)),e("div",Le,[e("button",{onClick:t[9]||(t[9]=l=>J("none")),class:L(["px-3 py-2 text-sm rounded-lg border transition-colors",le.value?"border-gray-300 hover:bg-gray-50":"border-emerald-500 bg-emerald-50 text-emerald-700"])}," No Edge Zones ",2),e("button",{onClick:t[10]||(t[10]=l=>J("standard")),class:L(["px-3 py-2 text-sm rounded-lg border transition-colors",ue.value?"border-emerald-500 bg-emerald-50 text-emerald-700":"border-gray-300 hover:bg-gray-50"])}," Standard Edges (10cm) ",2),e("button",{onClick:t[11]||(t[11]=l=>J("wide-ends")),class:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors"}," Wide Ends (20cm top/bottom) "),e("button",{onClick:t[12]||(t[12]=l=>J("custom")),class:"px-3 py-2 text-sm rounded-lg border border-gray-300 hover:bg-gray-50 transition-colors"}," Custom ")])]),e("div",Ze,[e("div",ze,[s.value.top.enabled?(o(),r("div",{key:0,class:"absolute top-0 left-0 right-0 bg-green-200 border-2 border-green-400 rounded-t-lg transition-all duration-300",style:z({height:`${s.value.top.depth*3}px`})},[e("div",Pe," Top Edge ("+i(s.value.top.depth)+"cm) ",1)],4)):b("",!0),s.value.bottom.enabled?(o(),r("div",{key:1,class:"absolute bottom-0 left-0 right-0 bg-green-200 border-2 border-green-400 rounded-b-lg transition-all duration-300",style:z({height:`${s.value.bottom.depth*3}px`})},[e("div",Fe," Bottom Edge ("+i(s.value.bottom.depth)+"cm) ",1)],4)):b("",!0),s.value.left.enabled?(o(),r("div",{key:2,class:"absolute top-0 bottom-0 left-0 bg-blue-200 border-2 border-blue-400 rounded-l-lg transition-all duration-300 z-10",style:z({width:`${s.value.left.depth*6}px`})},[e("div",We," Left ("+i(s.value.left.depth)+"cm) ",1)],4)):b("",!0),s.value.right.enabled?(o(),r("div",{key:3,class:"absolute top-0 bottom-0 right-0 bg-blue-200 border-2 border-blue-400 rounded-r-lg transition-all duration-300 z-10",style:z({width:`${s.value.right.depth*6}px`})},[e("div",Ke," Right ("+i(s.value.right.depth)+"cm) ",1)],4)):b("",!0),e("div",{class:"absolute bg-white border-2 border-gray-300 rounded-lg transition-all duration-300",style:z(ce.value)},t[37]||(t[37]=[e("div",{class:"absolute inset-0 flex items-center justify-center text-sm font-medium text-gray-600"}," Main Board Area ",-1)]),4),t[38]||(t[38]=e("div",{class:"absolute inset-0 border-4 border-amber-600 rounded-lg bg-amber-100/30"},[e("div",{class:"absolute -top-6 left-1/2 transform -translate-x-1/2 text-xs font-medium text-gray-600"}," Board Preview ")],-1))])]),e("div",He,[e("div",qe,[e("div",Je,[t[40]||(t[40]=e("label",{class:"text-sm font-medium text-gray-700"},"Top & Bottom Edges",-1)),e("label",Qe,[m(e("input",{type:"checkbox","onUpdate:modelValue":t[13]||(t[13]=l=>R.value=l),onChange:W,class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"},null,544),[[P,R.value]]),t[39]||(t[39]=e("span",{class:"ml-2 text-xs text-gray-600"},"Enable",-1))])]),e("div",Xe,[m(e("input",{"onUpdate:modelValue":t[14]||(t[14]=l=>D.value=l),onInput:K,type:"range",min:"0",max:"50",disabled:!R.value,class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer disabled:opacity-50"},null,40,Ye),[[A,D.value]]),e("div",Ie,i(D.value)+"cm from edge",1)])]),e("div",et,[e("div",tt,[t[42]||(t[42]=e("label",{class:"text-sm font-medium text-gray-700"},"Left & Right Edges",-1)),e("label",lt,[m(e("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=l=>U.value=l),onChange:H,class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"},null,544),[[P,U.value]]),t[41]||(t[41]=e("span",{class:"ml-2 text-xs text-gray-600"},"Enable",-1))])]),e("div",st,[m(e("input",{"onUpdate:modelValue":t[16]||(t[16]=l=>S.value=l),onInput:q,type:"range",min:"0",max:"50",disabled:!U.value,class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer disabled:opacity-50"},null,40,at),[[A,S.value]]),e("div",ot,i(S.value)+"cm from edge",1)])])])]),e("div",rt,[e("div",nt,[t[45]||(t[45]=e("h2",{class:"text-xl font-semibold text-gray-900"},"Defect Rules Configuration",-1)),e("div",it,[e("button",{onClick:t[17]||(t[17]=(...l)=>g(I)&&g(I)(...l)),class:"px-3 py-1.5 text-sm bg-emerald-100 text-emerald-700 hover:bg-emerald-200 rounded-lg transition-colors"}," Enable All "),e("button",{onClick:t[18]||(t[18]=(...l)=>g(ee)&&g(ee)(...l)),class:"px-3 py-1.5 text-sm bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-lg transition-colors"}," Disable All ")])]),e("div",dt,[e("button",{onClick:t[19]||(t[19]=l=>k.value="board"),class:L(["px-4 py-2 text-sm font-medium border-b-2 transition-colors",k.value==="board"?"border-emerald-500 text-emerald-600":"border-transparent text-gray-500 hover:text-gray-700"])},[t[46]||(t[46]=E(" Entire Board Rules ",-1)),e("span",ut,i($("board")),1)],2),le.value?(o(),r("button",{key:0,onClick:t[20]||(t[20]=l=>k.value="leftRight"),class:L(["px-4 py-2 text-sm font-medium border-b-2 transition-colors",k.value==="leftRight"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700"])},[t[47]||(t[47]=E(" Left & Right Edge Rules ",-1)),e("span",ct,i($("leftRight")),1)],2)):b("",!0),le.value?(o(),r("button",{key:1,onClick:t[21]||(t[21]=l=>k.value="topBottom"),class:L(["px-4 py-2 text-sm font-medium border-b-2 transition-colors",k.value==="topBottom"?"border-green-500 text-green-600":"border-transparent text-gray-500 hover:text-gray-700"])},[t[48]||(t[48]=E(" Top & Bottom Edge Rules ",-1)),e("span",mt,i($("topBottom")),1)],2)):b("",!0)]),k.value==="board"?(o(),r("div",gt,[t[51]||(t[51]=e("div",{class:"flex items-center justify-between mb-4"},[e("h3",{class:"text-lg font-medium text-gray-900"},"Rules for Entire Board"),e("div",{class:"text-sm text-gray-600"}," These rules apply to the entire board surface ")],-1)),(o(!0),r(h,null,y(c.value,l=>(o(),r("div",{key:l.id,class:"border border-gray-200 rounded-lg"},[e("div",bt,[e("div",pt,[e("h4",ft,i(l.name),1),e("div",vt,[e("span",xt,i(T(l.id,"board"))+" / "+i(C(l.id).length)+" enabled ",1),e("button",{onClick:a=>oe(l.id,"board"),class:"text-sm text-emerald-600 hover:text-emerald-700 font-medium"},i(T(l.id,"board")===C(l.id).length?"Disable All":"Enable All"),9,ht)])])]),e("div",yt,[(o(!0),r(h,null,y(C(l.id),a=>(o(),r("div",{key:a.id,class:"border border-gray-100 rounded-lg p-4"},[e("div",_t,[e("label",kt,[m(e("input",{type:"checkbox","onUpdate:modelValue":n=>p.value[a.id].enabled=n,class:"h-4 w-4 text-emerald-600 focus:ring-emerald-500 border-gray-300 rounded"},null,8,wt),[[P,p.value[a.id].enabled]]),e("span",Vt,i(a.name),1)])]),p.value[a.id].enabled?(o(),r("div",Ct,[e("div",null,[t[49]||(t[49]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Metric",-1)),m(e("select",{"onUpdate:modelValue":n=>p.value[a.id].metric=n,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm"},[(o(!0),r(h,null,y(g(O)(a.id),n=>(o(),r("option",{key:n,value:n},i(te(n)),9,Mt))),128))],8,Et),[[j,p.value[a.id].metric]])]),e("div",null,[e("label",Bt," Limit Value ("+i(g(V)(p.value[a.id].metric))+") ",1),m(e("input",{"onUpdate:modelValue":n=>p.value[a.id].limitValue=n,type:"number",step:"0.1",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",placeholder:"0"},null,8,Rt),[[A,p.value[a.id].limitValue]])]),e("div",null,[t[50]||(t[50]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Aggregation",-1)),m(e("select",{"onUpdate:modelValue":n=>p.value[a.id].aggregationMethod=n,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm"},[(o(!0),r(h,null,y(g(Z),n=>(o(),r("option",{key:n.value,value:n.value},i(n.title),9,Ut))),128))],8,Dt),[[j,p.value[a.id].aggregationMethod]])])])):b("",!0)]))),128))])]))),128))])):b("",!0),k.value==="leftRight"?(o(),r("div",St,[e("div",At,[t[53]||(t[53]=e("h3",{class:"text-lg font-medium text-gray-900 text-blue-700"},"Rules for Left & Right Edges",-1)),e("div",Tt,[e("div",jt," Zones: "+i(s.value.left.enabled?"Left ("+s.value.left.depth+"cm)":"")+i(s.value.left.enabled&&s.value.right.enabled?", ":"")+i(s.value.right.enabled?"Right ("+s.value.right.depth+"cm)":""),1),e("button",{onClick:t[22]||(t[22]=l=>ne("leftRight")),class:"px-3 py-1.5 text-sm bg-blue-100 text-blue-700 hover:bg-blue-200 rounded-lg transition-colors flex items-center"},[N(g(ie),{class:"w-4 h-4 mr-1"}),t[52]||(t[52]=E(" Copy from Board ",-1))])])]),(o(!0),r(h,null,y(c.value,l=>(o(),r("div",{key:l.id,class:"border border-blue-200 rounded-lg"},[e("div",Ot,[e("div",$t,[e("h4",Gt,i(l.name),1),e("div",Nt,[e("span",Lt,i(T(l.id,"leftRight"))+" / "+i(C(l.id).length)+" enabled ",1),e("button",{onClick:a=>oe(l.id,"leftRight"),class:"text-sm text-blue-600 hover:text-blue-700 font-medium"},i(T(l.id,"leftRight")===C(l.id).length?"Disable All":"Enable All"),9,Zt)])])]),e("div",zt,[(o(!0),r(h,null,y(C(l.id),a=>(o(),r("div",{key:a.id,class:"border border-gray-100 rounded-lg p-4"},[e("div",Pt,[e("label",Ft,[m(e("input",{type:"checkbox","onUpdate:modelValue":n=>v.value[a.id].enabled=n,class:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"},null,8,Wt),[[P,v.value[a.id].enabled]]),e("span",Kt,i(a.name),1)]),!v.value[a.id].enabled&&p.value[a.id].enabled?(o(),r("div",Ht," ↳ Inherits from board ")):v.value[a.id].enabled?(o(),r("div",qt," ↳ Zone override ")):b("",!0)]),v.value[a.id].enabled?(o(),r("div",Jt,[e("div",null,[t[54]||(t[54]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Metric",-1)),m(e("select",{"onUpdate:modelValue":n=>v.value[a.id].metric=n,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},[(o(!0),r(h,null,y(g(O)(a.id),n=>(o(),r("option",{key:n,value:n},i(te(n)),9,Xt))),128))],8,Qt),[[j,v.value[a.id].metric]])]),e("div",null,[e("label",Yt," Limit Value ("+i(g(V)(v.value[a.id].metric))+") ",1),m(e("input",{"onUpdate:modelValue":n=>v.value[a.id].limitValue=n,type:"number",step:"0.1",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",placeholder:"0"},null,8,It),[[A,v.value[a.id].limitValue]])]),e("div",null,[t[55]||(t[55]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Aggregation",-1)),m(e("select",{"onUpdate:modelValue":n=>v.value[a.id].aggregationMethod=n,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm"},[(o(!0),r(h,null,y(g(Z),n=>(o(),r("option",{key:n.value,value:n.value},i(n.title),9,tl))),128))],8,el),[[j,v.value[a.id].aggregationMethod]])])])):b("",!0)]))),128))])]))),128))])):b("",!0),k.value==="topBottom"?(o(),r("div",ll,[e("div",sl,[t[57]||(t[57]=e("h3",{class:"text-lg font-medium text-gray-900 text-green-700"},"Rules for Top & Bottom Edges",-1)),e("div",al,[e("div",ol," Zones: "+i(s.value.top.enabled?"Top ("+s.value.top.depth+"cm)":"")+i(s.value.top.enabled&&s.value.bottom.enabled?", ":"")+i(s.value.bottom.enabled?"Bottom ("+s.value.bottom.depth+"cm)":""),1),e("button",{onClick:t[23]||(t[23]=l=>ne("topBottom")),class:"px-3 py-1.5 text-sm bg-green-100 text-green-700 hover:bg-green-200 rounded-lg transition-colors flex items-center"},[N(g(ie),{class:"w-4 h-4 mr-1"}),t[56]||(t[56]=E(" Copy from Board ",-1))])])]),(o(!0),r(h,null,y(c.value,l=>(o(),r("div",{key:l.id,class:"border border-green-200 rounded-lg"},[e("div",rl,[e("div",nl,[e("h4",il,i(l.name),1),e("div",dl,[e("span",ul,i(T(l.id,"topBottom"))+" / "+i(C(l.id).length)+" enabled ",1),e("button",{onClick:a=>oe(l.id,"topBottom"),class:"text-sm text-green-600 hover:text-green-700 font-medium"},i(T(l.id,"topBottom")===C(l.id).length?"Disable All":"Enable All"),9,cl)])])]),e("div",ml,[(o(!0),r(h,null,y(C(l.id),a=>(o(),r("div",{key:a.id,class:"border border-gray-100 rounded-lg p-4"},[e("div",gl,[e("label",bl,[m(e("input",{type:"checkbox","onUpdate:modelValue":n=>x.value[a.id].enabled=n,class:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"},null,8,pl),[[P,x.value[a.id].enabled]]),e("span",fl,i(a.name),1)]),!x.value[a.id].enabled&&p.value[a.id].enabled?(o(),r("div",vl," ↳ Inherits from board ")):x.value[a.id].enabled?(o(),r("div",xl," ↳ Zone override ")):b("",!0)]),x.value[a.id].enabled?(o(),r("div",hl,[e("div",null,[t[58]||(t[58]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Metric",-1)),m(e("select",{"onUpdate:modelValue":n=>x.value[a.id].metric=n,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"},[(o(!0),r(h,null,y(g(O)(a.id),n=>(o(),r("option",{key:n,value:n},i(te(n)),9,_l))),128))],8,yl),[[j,x.value[a.id].metric]])]),e("div",null,[e("label",kl," Limit Value ("+i(g(V)(x.value[a.id].metric))+") ",1),m(e("input",{"onUpdate:modelValue":n=>x.value[a.id].limitValue=n,type:"number",step:"0.1",min:"0",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm",placeholder:"0"},null,8,wl),[[A,x.value[a.id].limitValue]])]),e("div",null,[t[59]||(t[59]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Aggregation",-1)),m(e("select",{"onUpdate:modelValue":n=>x.value[a.id].aggregationMethod=n,class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm"},[(o(!0),r(h,null,y(g(Z),n=>(o(),r("option",{key:n.value,value:n.value},i(n.title),9,Cl))),128))],8,Vl),[[j,x.value[a.id].aggregationMethod]])])])):b("",!0)]))),128))])]))),128))])):b("",!0)]),e("div",El,[t[63]||(t[63]=e("h2",{class:"text-xl font-semibold text-gray-900 mb-6"},"Grade Configuration Summary",-1)),e("div",Ml,[e("div",Bl,[e("h3",Rl,[N(g(ye),{class:"w-4 h-4 mr-2"}),t[60]||(t[60]=E(" Board Rules ",-1))]),e("div",Dl,[(o(!0),r(h,null,y(p.value,(l,a)=>(o(),r("div",{key:a},[l.enabled?(o(),r("div",Ul,[e("span",Sl,i(ae(a)),1),e("span",Al," Max "+i(l.limitValue)+" "+i(g(V)(l.metric)),1)])):b("",!0)]))),128)),$("board")===0?(o(),r("div",Tl," No board rules configured ")):b("",!0)])]),e("div",jl,[e("h3",Ol,[N(g(de),{class:"w-4 h-4 mr-2 text-blue-600"}),t[61]||(t[61]=E(" Left & Right Edge Rules ",-1))]),e("div",$l,[(o(!0),r(h,null,y(v.value,(l,a)=>(o(),r("div",{key:a},[l.enabled?(o(),r("div",Gl,[e("span",Nl,i(ae(a)),1),e("span",Ll," Max "+i(l.limitValue)+" "+i(g(V)(l.metric)),1)])):b("",!0)]))),128)),$("leftRight")===0?(o(),r("div",Zl,i(s.value.left.enabled||s.value.right.enabled?"No zone overrides configured":"No left/right zones defined"),1)):b("",!0)])]),e("div",zl,[e("h3",Pl,[N(g(de),{class:"w-4 h-4 mr-2 text-green-600"}),t[62]||(t[62]=E(" Top & Bottom Edge Rules ",-1))]),e("div",Fl,[(o(!0),r(h,null,y(x.value,(l,a)=>(o(),r("div",{key:a},[l.enabled?(o(),r("div",Wl,[e("span",Kl,i(ae(a)),1),e("span",Hl," Max "+i(l.limitValue)+" "+i(g(V)(l.metric)),1)])):b("",!0)]))),128)),$("topBottom")===0?(o(),r("div",ql,i(s.value.top.enabled||s.value.bottom.enabled?"No zone overrides configured":"No top/bottom zones defined"),1)):b("",!0)])])])])])]))}};export{Il as default};
