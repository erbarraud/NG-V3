import{r as t,c as i}from"./vendor-BFbc6J8n.js";function S(v,s=null,f={}){const{immediate:m=!0,resetOnExecute:y=!0,onError:a=null,onSuccess:o=null}=f,r=t(s),l=t(!1),u=t(null),d=i(()=>!l.value&&u.value===null),E=i(()=>!l.value&&u.value===null&&r.value!==null),c=async(...w)=>{y&&(u.value=null),l.value=!0;try{const e=await v(...w);return r.value=e,o&&o(e),e}catch(e){const n=e instanceof Error?e:new Error(String(e));throw u.value=n,a&&a(n),n}finally{l.value=!1}},p=()=>{r.value=s,u.value=null,l.value=!1};return m&&c(),{state:r,isLoading:l,error:u,isReady:d,isSuccess:E,execute:c,reset:p}}export{S as u};
