import{g,k as l,q as e,I as $,J as S,E as b,x as N,z as p,y as m,u as c,S as G,b as T,r as y,c as f,D as v,A as M,l as A,C as I,B as P}from"./vendor-BFbc6J8n.js";import{b as U}from"./index-BrN4ximb.js";import{P as E,s as H,I as L,S as q,l as V,x as z,T as R,X as W}from"./ui-CBPL_Bk1.js";const j={class:"bg-white shadow rounded-lg overflow-hidden"},D={class:"min-w-full divide-y divide-gray-200"},O={class:"bg-white divide-y divide-gray-200"},J=["onClick"],X={class:"px-6 py-4 whitespace-nowrap"},K={class:"flex items-center"},Q={class:"flex-shrink-0"},Y={class:"ml-3"},Z={class:"text-sm font-medium text-gray-900"},ee={key:0,class:"text-xs text-purple-600 font-medium"},te={class:"px-6 py-4 whitespace-nowrap"},se={class:"px-6 py-4 whitespace-nowrap"},ae={class:"text-sm text-gray-900"},re={class:"px-6 py-4"},oe=["title"],ie={class:"px-6 py-4 whitespace-nowrap"},ne={class:"flex items-center"},de={class:"text-sm font-medium text-gray-900"},le={class:"px-6 py-4 whitespace-nowrap"},ce={class:"text-sm text-gray-900"},ue={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},pe={class:"flex items-center space-x-2"},ge=["onClick"],me=["onClick"],he={__name:"GradeTable",props:{grades:{type:Array,required:!0}},emits:["view-grade","edit-grade","duplicate-grade"],setup(o){const h=d=>{const i={emerald:{indicator:"bg-emerald-500"},blue:{indicator:"bg-blue-500"},yellow:{indicator:"bg-yellow-500"},orange:{indicator:"bg-orange-500"}};return i[d]||i.emerald},x=d=>{if(!d?.usageCount||d.usageCount===0)return"Never";const i=Math.floor(Math.random()*30)+1,a=new Date;return a.setDate(a.getDate()-i),a.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})};return(d,i)=>(l(),g("div",j,[e("table",D,[i[1]||(i[1]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider border-b-2 border-emerald-500"}," Grade Name "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider border-b-2 border-emerald-500"}," Type "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider border-b-2 border-emerald-500"}," Species "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider border-b-2 border-emerald-500"}," Description "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider border-b-2 border-emerald-500"}," Usage "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider border-b-2 border-emerald-500"}," Last Used "),e("th",{class:"px-6 py-4 text-left text-xs font-bold text-gray-600 uppercase tracking-wider border-b-2 border-emerald-500"}," Actions ")])],-1)),e("tbody",O,[(l(!0),g($,null,S(o.grades,a=>(l(),g("tr",{key:a.id,class:"hover:bg-emerald-50 transition-colors duration-150 cursor-pointer",onClick:u=>d.$emit("view-grade",a)},[e("td",X,[e("div",K,[e("div",Q,[e("div",{class:b(["w-3 h-3 rounded-full",h(a.color).indicator])},null,2)]),e("div",Y,[e("div",Z,p(a.name),1),a.isCustom?(l(),g("div",ee,"Custom Grade")):N("",!0)])])]),e("td",te,[e("span",{class:b(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",a.type==="Hardwood"?"bg-green-100 text-green-800":a.type==="Softwood"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"])},p(a.type),3)]),e("td",se,[e("div",ae,p(a.species),1)]),e("td",re,[e("div",{class:"text-sm text-gray-900 max-w-xs truncate",title:a.description},p(a.description),9,oe)]),e("td",ie,[e("div",ne,[m(c(E),{class:"w-4 h-4 text-gray-400 mr-2"}),e("span",de,p(a.usageCount),1),i[0]||(i[0]=e("span",{class:"text-sm text-gray-500 ml-1"},"orders",-1))])]),e("td",le,[e("div",ce,p(x(a)),1)]),e("td",ue,[e("div",pe,[e("button",{onClick:G(u=>d.$emit("edit-grade",a),["stop"]),class:"p-2 text-gray-400 hover:text-emerald-600 hover:bg-emerald-50 rounded-lg transition-colors",title:"Edit Grade"},[m(c(H),{class:"w-4 h-4"})],8,ge),e("button",{onClick:G(u=>d.$emit("duplicate-grade",a),["stop"]),class:"p-2 text-gray-400 hover:text-purple-600 hover:bg-purple-50 rounded-lg transition-colors",title:"Duplicate"},[m(c(L),{class:"w-4 h-4"})],8,me)])])],8,J))),128))])])]))}},xe=T("grades",()=>{const o=y([{id:1,name:"FAS (First and Seconds)",type:"Hardwood",species:"Red Oak",description:"Highest grade with 83.3% clear face cuttings",keySpecs:["Min width: 6 inches","Min length: 8 feet","Clear face: 83.3%","Max defects: Minimal"],usageCount:24,color:"emerald",isCustom:!1},{id:2,name:"Select & Better",type:"Hardwood",species:"White Oak",description:"High quality grade combining FAS and Select",keySpecs:["Min width: 4 inches","Min length: 6 feet","Clear face: 83.3%","Good for staining"],usageCount:18,color:"blue",isCustom:!1},{id:3,name:"No.1 Common",type:"Hardwood",species:"Soft Maple",description:"Good grade suitable for most applications",keySpecs:["Min width: 3 inches","Min length: 4 feet","Clear face: 66.7%","Paint grade quality"],usageCount:32,color:"yellow",isCustom:!1},{id:4,name:"No.2A Common",type:"Hardwood",species:"Cherry",description:"Economy grade with character marks",keySpecs:["Min width: 3 inches","Min length: 4 feet","Clear face: 50%","Rustic appearance"],usageCount:15,color:"orange",isCustom:!1}]),h=f(()=>o.value.filter(t=>t.isCustom)),x=f(()=>o.value.filter(t=>!t.isCustom)),d=f(()=>o.value.length),i=f(()=>o.value.reduce((t,s)=>s.usageCount>t.usageCount?s:t));return{grades:o,customGrades:h,standardGrades:x,totalGrades:d,mostUsedGrade:i,createGrade:t=>{const s={id:Date.now(),name:t.name,type:t.type,description:t.description,keySpecs:[`Min width: ${t.specifications.minWidth} inches`,`Min length: ${t.specifications.minLength} feet`,`Clear face: ${t.specifications.clearFace}%`,`Max defects: ${t.specifications.maxDefects}`],usageCount:0,color:"emerald",isCustom:t.type==="Custom",species:t.species||"Mixed"};return o.value.push(s),s},updateGrade:(t,s)=>{const r=o.value.findIndex(n=>n.id===t);return r!==-1?(o.value[r]={...o.value[r],name:s.name,type:s.type,description:s.description,keySpecs:[`Min width: ${s.specifications.minWidth} inches`,`Min length: ${s.specifications.minLength} feet`,`Clear face: ${s.specifications.clearFace}%`,`Max defects: ${s.specifications.maxDefects}`]},o.value[r]):null},deleteGrade:t=>{const s=o.value.findIndex(r=>r.id===t);if(s!==-1){const r=o.value[s];return o.value.splice(s,1),r}return null},duplicateGrade:t=>{const s={...t,id:Date.now(),name:`${t.name} (Copy)`,usageCount:0};return o.value.push(s),s},incrementUsage:t=>{const s=o.value.find(r=>r.id===t);s&&s.usageCount++},getGradeById:t=>o.value.find(s=>s.id===t)}}),ye={class:"grade-management"},fe={class:"header-section w-full px-4 sm:px-6 lg:px-8 py-6"},ve={class:"flex items-center justify-between mb-6"},be={class:"flex items-center space-x-4"},we={class:"relative"},_e={class:"content-wrapper w-full px-4 sm:px-6 lg:px-8 py-6"},Ce={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"},ke={key:0,class:"fixed top-4 right-4 z-50"},Ge={class:"text-sm font-medium"},Ne={__name:"GradeManagement",setup(o){const h=A(),x=xe(),d=y(!1),i=y(!1),a=y("success"),u=y(""),w=r=>{try{h.push(`/grade-management/create?edit=true&id=${r.id}`)}catch{t("Failed to navigate to grade details. Please try again.")}},_=r=>{try{h.push(`/grade-management/create?edit=true&id=${r.id}`)}catch{t("Failed to navigate to edit page. Please try again.")}},C=r=>{try{x.duplicateGrade(r),k(`Grade "${r.name}" has been duplicated successfully.`)}catch{t("Failed to duplicate grade. Please try again.")}},k=r=>{a.value="success",u.value=r,i.value=!0,setTimeout(()=>{s()},5e3)},t=r=>{a.value="error",u.value=r,i.value=!0,setTimeout(()=>{s()},5e3)},s=()=>{i.value=!1,u.value=""};return(r,n)=>{const B=I("router-link");return l(),v(U,null,{default:M(()=>[e("div",ye,[e("div",fe,[e("div",ve,[n[2]||(n[2]=e("div",null,[e("h1",{class:"text-3xl font-bold text-gray-900"},"Grade Management"),e("p",{class:"text-gray-600 mt-1"},"Manage lumber grading standards and templates")],-1)),e("div",be,[e("div",we,[m(c(q),{class:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 transform -translate-y-1/2"}),n[0]||(n[0]=e("input",{type:"text",placeholder:"Search grades...",class:"pl-10 pr-3 py-2 border border-gray-300 rounded-lg w-64 focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500"},null,-1))]),m(B,{to:"/grade-management/create",class:"bg-emerald-600 text-white px-4 py-2 rounded-lg hover:bg-emerald-700 transition-colors flex items-center"},{default:M(()=>[m(c(V),{class:"w-4 h-4 mr-2"}),n[1]||(n[1]=P(" Create New Grade ",-1))]),_:1,__:[1]})])])]),e("div",_e,[d.value?(l(),g("div",Ce,[(l(),g($,null,S(4,F=>e("div",{key:F,class:"animate-pulse"},n[3]||(n[3]=[e("div",{class:"bg-white rounded-lg border border-gray-200 p-6"},[e("div",{class:"h-4 bg-gray-200 rounded w-3/4 mb-3"}),e("div",{class:"h-3 bg-gray-200 rounded w-1/2 mb-4"}),e("div",{class:"space-y-2 mb-4"},[e("div",{class:"h-3 bg-gray-200 rounded"}),e("div",{class:"h-3 bg-gray-200 rounded w-5/6"}),e("div",{class:"h-3 bg-gray-200 rounded w-4/6"})]),e("div",{class:"flex justify-between items-center"},[e("div",{class:"h-6 bg-gray-200 rounded w-16"}),e("div",{class:"flex space-x-2"},[e("div",{class:"h-8 w-8 bg-gray-200 rounded"}),e("div",{class:"h-8 w-8 bg-gray-200 rounded"}),e("div",{class:"h-8 w-8 bg-gray-200 rounded"})])])],-1)]))),64))])):(l(),v(he,{key:1,grades:c(x).grades,onViewGrade:w,onEditGrade:_,onDuplicateGrade:C},null,8,["grades"]))]),i.value?(l(),g("div",ke,[e("div",{class:b(["px-4 py-3 rounded-lg shadow-lg border flex items-center space-x-3 transition-all duration-300",a.value==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"])},[a.value==="success"?(l(),v(c(z),{key:0,class:"h-5 w-5 text-green-600"})):(l(),v(c(R),{key:1,class:"h-5 w-5 text-red-600"})),e("span",Ge,p(u.value),1),e("button",{onClick:s,class:"text-gray-400 hover:text-gray-600"},[m(c(W),{class:"h-4 w-4"})])],2)])):N("",!0)])]),_:1})}}};export{Ne as default};
